'use strict'

var contains = require('lodash/collection/contains')
var TileTypes = require('../helpers/TileTypes')

var defaultCharacter = TileTypes.empty

/**
 * Tile class - represents a single tile in a map
 *
 * @param {String} character
 */
var Tile = function (character) {
  if (typeof character === 'undefined') character = defaultCharacter

  if (contains(TileTypes.validTypes, character) === false) {
    throw new Error(character + ' is not a valid character')
  }

  this.character = character
}

Tile.prototype.getCharacter = function () {
  return this.character
}

/**
 * Determines if the tile blocks movement
 *
 * @return {Boolean} true if tile blocks movement
 */
Tile.prototype.isBlocking = function () {
  return contains(TileTypes.blockingTypes, this.getCharacter()) === true
}

module.exports = Tile
